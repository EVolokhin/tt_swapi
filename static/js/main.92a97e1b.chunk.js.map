{"version":3,"sources":["components/Main.jsx","components/Person.jsx","components/PersonList.jsx","components/PersonDetails.jsx","App.jsx","index.jsx"],"names":["Main","className","size","variant","color","to","Person","person","useState","info","anchorEl","setAnchorEl","handleClose","open","Boolean","id","name","undefined","onClick","event","currentTarget","aria-describedby","role","tabIndex","onKeyPress","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","gender","birth_year","pathname","query","url","getList","a","fetch","response","json","PersonList","personList","setPersonList","nextPage","setNextPage","prevPage","setPrevPage","page","setPage","useEffect","list","results","next","previous","length","CircularProgress","map","created","type","prev","PersonDetails","withRouter","location","setPerson","homeWorld","setHomeWorld","vehicles","setVehicles","starShips","setStarShips","homeworld","homeplanet","vehicleNames","shipsNames","i","transport","push","starships","ship","vehicle","starShip","App","CssBaseline","Container","maxWidth","disableGutters","Typography","component","style","display","flexDirection","backgroundColor","height","path","exact","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.92a97e1b.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Main = () => (\n  <div className=\"main_wrapper\">\n    <Link\n      size=\"large\"\n      variant=\"contained\"\n      color=\"default\"\n      className=\"start_btn\"\n      to=\"/data\"\n    >\n      Старт\n    </Link>\n  </div>\n);\n","/* eslint-disable no-console */\n/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport Popover from '@material-ui/core/Popover';\nimport { Link } from 'react-router-dom';\n\nexport const Person = ({ person }) => {\n  const [info] = useState(person);\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    if (event.currentTarget === anchorEl) {\n      handleClose();\n    } else {\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? info.name : undefined;\n\n  return (\n    <>\n      <div\n        className=\"person_info\"\n        onClick={handleClick}\n        aria-describedby={id}\n        role=\"button\"\n        tabIndex={0}\n        onKeyPress={handleClose}\n      >\n        {info.name}\n        <Popover\n          id={id}\n          open={open}\n          anchorEl={anchorEl}\n          onClose={handleClose}\n          anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'left',\n          }}\n        >\n          <div className=\"info_popup\">\n            <span>{`Name: ${info.name}`}</span>\n            <span>{`Gender: ${info.gender}`}</span>\n            <span>{`Birth: ${info.birth_year}`}</span>\n            <Link to={{\n              pathname: '/details',\n              query: `${info.url}`,\n            }}\n            >\n              Details\n            </Link>\n          </div>\n        </Popover>\n      </div>\n\n    </>\n  );\n};\n","/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Person } from './Person';\n\nconst BASEURL = 'https://swapi.dev/api/people/';\nconst getList = async(url) => {\n  const response = await fetch(url);\n\n  return response.json();\n};\n\nexport const PersonList = () => {\n  const [personList, setPersonList] = useState([]);\n  const [nextPage, setNextPage] = useState('');\n  const [prevPage, setPrevPage] = useState(null);\n  const [page, setPage] = useState(1);\n\n  // console.log(personList);\n\n  useEffect(() => {\n    (async function getData() {\n      const list = await getList(BASEURL);\n\n      setPersonList(list.results);\n      setNextPage(list.next);\n      setPrevPage(list.previous);\n    })();\n  }, []);\n\n  const handleNext = () => {\n    setPage((prev) => {\n      setPage(+prev + 1);\n    });\n    setPersonList([]);\n\n    (async function changeList() {\n      const list = await getList(nextPage);\n\n      setPersonList(list.results);\n      setNextPage(list.next);\n      setPrevPage(list.previous);\n    })();\n  };\n\n  const handlePrev = () => {\n    setPage((prev) => {\n      setPage(prev - 1);\n    });\n    setPersonList([]);\n    (async function changeList() {\n      const list = await getList(prevPage);\n\n      setPersonList(list.results);\n      setNextPage(list.next);\n      setPrevPage(list.previous);\n    })();\n  };\n\n  return (\n    <>\n      <div>\n        <Link className=\"main\" to=\"/\">Back</Link>\n      </div>\n      <div className=\"persons_wrapper\">\n        {(personList.length === 0) ? <CircularProgress /> : (\n          <ul>\n            {personList.map(person => (\n              <li key={person.created}>\n                <Person person={person} />\n              </li>\n            ))}\n          </ul>\n        ) }\n      </div>\n      {(personList.length === 0) ? (null) : (\n        <div className=\"pagination\">\n          {prevPage && (\n            <button\n              type=\"button\"\n              name=\"prev\"\n              onClick={handlePrev}\n            >\n              prev\n            </button>\n          )}\n          <div>{page}</div>\n          {nextPage && (\n            <button\n              type=\"button\"\n              name=\"next\"\n              onClick={handleNext}\n            >\n              next\n            </button>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n","/* eslint-disable react/prop-types */\n/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nconst getList = async(url) => {\n  const response = await fetch(url);\n\n  return response.json();\n};\n\nexport const PersonDetails = withRouter(\n  ({ location }) => {\n    const [person, setPerson] = useState({});\n    const [homeWorld, setHomeWorld] = useState(null);\n    const [vehicles, setVehicles] = useState([]);\n    const [starShips, setStarShips] = useState([]);\n\n    useEffect(() => {\n      (async function getData() {\n        const info = await getList(location.query);\n\n        const homeplanet = await getList(info.homeworld);\n\n        setPerson(info);\n        setHomeWorld(homeplanet.name);\n\n        const vehicleNames = [];\n        const shipsNames = [];\n\n        for (let i = 0; i < info.vehicles.length; i += 1) {\n          (async() => {\n            const transport = await getList(info.vehicles[i]);\n\n            // console.log(`loop${i} name: ${transport.name}`);\n            vehicleNames.push(transport.name);\n            // console.log(vehicleNames);\n\n            if (i + 1 === info.vehicles.length) {\n              setVehicles(vehicleNames);\n            }\n          })();\n        }\n\n        for (let i = 0; i < info.starships.length; i += 1) {\n          (async() => {\n            const ship = await getList(info.starships[i]);\n\n            // console.log(`loop${i} name: ${transport.name}`);\n            shipsNames.push(ship.name);\n            // console.log(vehicleNames);\n\n            if (i + 1 === info.starships.length) {\n              setStarShips(shipsNames);\n            }\n          })();\n        }\n      })();\n    }, []);\n\n    return (\n      <>\n        <div>\n          <Link className=\"main\" to=\"/\">Main</Link>\n        </div>\n\n        <div className=\"details\">\n          <span>{`Name: ${person.name} `}</span>\n          <span>{`Gender: ${person.gender}`}</span>\n          <span>{`Birth Year: ${person.birth_year}`}</span>\n          <span>{`Homeworld: ${homeWorld}`}</span>\n          <ul>\n            Vehicles:\n            {(vehicles.length === 0) ? ('NO INFO') : (\n              vehicles.map(vehicle => (\n                <li>\n                  {vehicle}\n                </li>\n              )))}\n          </ul>\n          <ul>\n            Starships:\n            {(starShips.length === 0) ? ('NO INFO') : (\n              starShips.map(starShip => (\n                <li>\n                  {starShip}\n                </li>\n              )))}\n          </ul>\n        </div>\n      </>\n    );\n  },\n);\n","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {\n  Switch,\n  Route,\n  Link,\n} from 'react-router-dom';\nimport './App.scss';\nimport { Main } from './components/Main';\nimport { PersonList } from './components/PersonList';\nimport { PersonDetails } from './components/PersonDetails';\n\nexport const App = () => (\n  <>\n    <CssBaseline />\n    <Container maxWidth={false} disableGutters>\n      <Typography\n        component=\"div\"\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          backgroundColor: '#cfe8fc',\n          height: '100vh',\n        }}\n      >\n        <Route path=\"/\" exact>\n          <Main />\n        </Route>\n        <Route path=\"/data\">\n          <PersonList />\n        </Route>\n        <Route path=\"/details\">\n          <PersonDetails />\n        </Route>\n      </Typography>\n    </Container>\n  </>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/tt_swapi/\">\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}